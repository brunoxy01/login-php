# GitHub Secrets Configuration Example
# Copy this file and configure in your GitHub repository settings
# Go to: Settings → Secrets and variables → Actions → New repository secret

# ═══════════════════════════════════════════════════════════════
# Docker Registry Configuration
# ═══════════════════════════════════════════════════════════════

DOCKER_REGISTRY=ghcr.io
# Or use: docker.io, your-registry.com, etc.

DOCKER_USERNAME=your-github-username
# For GHCR: Your GitHub username
# For Docker Hub: Your Docker Hub username

DOCKER_PASSWORD=ghp_xxxxxxxxxxxxxxxxxxxxxxxxxxxx
# For GHCR: GitHub Personal Access Token with packages:write permission
# For Docker Hub: Docker Hub access token

# ═══════════════════════════════════════════════════════════════
# Kubernetes Configuration
# ═══════════════════════════════════════════════════════════════

KUBE_CONFIG=<base64-encoded-kubeconfig>
# Get your kubeconfig:
# cat ~/.kube/config | base64
#
# Or for specific cluster context:
# kubectl config view --minify --flatten | base64

# ═══════════════════════════════════════════════════════════════
# Dynatrace OAuth2 (for Workflow Triggers)
# ═══════════════════════════════════════════════════════════════

DT_CLIENT_ID=dt0s02.XXXXXXXX
# Obtained from Dynatrace Access Tokens → OAuth clients
# Scope required: automation:workflows:run

DT_CLIENT_SECRET=dt0s02.XXXXXXXX.XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX
# OAuth client secret from Dynatrace

DT_WORKFLOW_ID=409c00f9-c459-4bd9-9fc5-e8464542d17f
# (Optional) Override default validation workflow ID
# Found in: Dynatrace → Automation → Workflows → Your workflow → ID in URL

# ═══════════════════════════════════════════════════════════════
# Dynatrace API (for Log Ingestion and Metrics)
# ═══════════════════════════════════════════════════════════════

DT_API_TOKEN=dt0c01.XXXXXXXXXXXXXXXX.XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX
# Obtained from Dynatrace Access Tokens → API tokens
# Scopes required:
# - logs.ingest (for sending custom logs)
# - metrics.ingest (optional, for custom metrics)

DT_TENANT_URL=https://abc12345.live.dynatrace.com
# Your Dynatrace environment URL
# Format: https://{your-environment-id}.live.dynatrace.com
# Do NOT include trailing slash

# ═══════════════════════════════════════════════════════════════
# How to Configure in GitHub
# ═══════════════════════════════════════════════════════════════

# 1. Go to your GitHub repository
# 2. Navigate to: Settings → Secrets and variables → Actions
# 3. Click "New repository secret"
# 4. Add each secret with the corresponding name and value
# 5. Secrets are encrypted and only exposed to workflow runs

# ═══════════════════════════════════════════════════════════════
# Security Best Practices
# ═══════════════════════════════════════════════════════════════

# ✓ Never commit secrets to Git
# ✓ Use different tokens for different environments
# ✓ Rotate tokens regularly
# ✓ Use minimum required scopes for each token
# ✓ Monitor token usage in Dynatrace/GitHub
# ✓ Use environment-specific secrets for production

# ═══════════════════════════════════════════════════════════════
# Testing Locally (Optional)
# ═══════════════════════════════════════════════════════════════

# You can test scripts locally by exporting these as environment variables:
# 
# export DT_CLIENT_ID="your-client-id"
# export DT_CLIENT_SECRET="your-secret"
# export DT_TENANT_URL="https://your-tenant.apps.dynatrace.com"
# export DT_API_TOKEN="your-api-token"
# 
# Then run:
# ./scripts/trigger_dynatrace_validation.sh
